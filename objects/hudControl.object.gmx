<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>globalvar maxInvenSlots,hudVisible;
hudVisible = true;

image_speed = 30/60;

//Inventory
/*NOTE: If the hitboxes for the inventory need to be updated in the future,
    define them here and update them in here, because each event having a local
    set of inventory coordinates is very annoying to update :P.
*/

invOpen = false;
invenXMax = 125;
invenX = 0;
maxInvenSlots = 28;
cursorHoldItem = false;
cursorItem = noone;
cursorAmt = noone;
cursorSlot = noone;
cursorTags = noone;
selectedSlot = noone;
drawCursorItem = false;
d_click = false;
equippedSlot_weapon = 0;
equippedSlot_pickaxe = 1;
pickupTimer = 0; //When right clicking a slot - how long until multiple items will be taken.
pickupTimerMax = 30; //The interval when a single item will be taken out of a slot.
pickupTimerRate = 10;
craftTimer = 0;
craftTimerMax = 30;
craftTimerRate = 10;
equipQueue = noone;

//Crafting Menu
showCraftingMenu = false;
craftingMenu = 0; //Nothing
currentCraftingSlots = 20;
craftingSpriteSet = 0;
craftIndex = -1; //The CRAFTING ID of the item to craft
craftSelect = -1;
craftBuffer = 0; //Last Item crafted

//Mod Menu
selectedTag = noone;
selectedEquipment = noone;
selectedType = noone;
equipmentIcon = noone;
equipmentTags = noone;
modCanConfirm = false;

//Inventory Slots
maxInvenSlots_original = 28;

//- initialize array length to avoid memory error.
inventorySlotIcon[maxInvenSlots-1] = 0;
inventorySlotAmt[maxInvenSlots-1] = 0;
inventorySlotType[maxInvenSlots-1] = 0;
inventorySlotTags[maxInvenSlots-1] = noone; //Each slot has '2' tag slots.

trashSlotIcon = 0;
trashSlotAmt = 0;
trashSlotType = 0;
trashSlotTags = noone; //Each slot has '2' tag slots.


for (i=0;i&lt;maxInvenSlots;i++)
{
    inventorySlotIcon[i] = 0; //Nothing
    inventorySlotAmt[i] = 0; //No items
    inventorySlotType[i] = 0; //Default item. '1' for equippable tool.
    inventorySlotTags[i] = noone; //No tags
}

//Settings menu
settingsMenu = false; //Whether settings menu is visible or not.
showPopMessage = true; //Whether or not to use popMessages.
showTaskList = true; //Show the player's tasks.
showBackground = true;

//Place Tiles
lastPlaceX = noone;
lastPlaceY = noone;

//Upgrade menu
upgradeMenu_visible = true;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reset crafting slots
currentCraftingSlots = 0;
craftingSpriteSet = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room == rm_menu then exit;

if invOpen == true
    { if invenX &lt; invenXMax then invenX += (invenXMax-invenX)*0.2; } 
else { if invenX &gt;= -10 then invenX += (0-invenX)*0.2; }
    
//Fire equipment queue
if obj_player.toolReady == true &amp;&amp; equipQueue != noone
{
    scr_slotEquip(equipQueue);
    equipQueue = noone;
}

//Crafting tooltip
if showCraftingMenu == true &amp;&amp; craftingMenu != 0
{
    var _posX = viewWidth/2-120;
    var _posY = viewHeight/2-105;
    var dx = device_mouse_x_to_gui(0);
    var dy = device_mouse_y_to_gui(0);
    
    if point_in_rectangle(dx,dy,_posX,_posY,250+_posX,200+_posY)
    {   
        for(i=0;i&lt;currentCraftingSlots;i++)
        {
            var size = 35; //The size of the distance between slots - the actual size of the slots.
            var column = 7;
            var c = floor(i/column);
            
            var x1 = _posX+10+(i*size)-(c*size*column);
            var x2 = _posX+30+(i*size)-(c*size*column);
            var y1 = _posY+5+(size*c);
            var y2 = _posY+25+(size*c);
            
            //Get Crafting ID of slot
            if point_in_rectangle(dx,dy,x1,y1,x2,y2)
            { craftSelect = i; }
        }
    }
}

//Update inventory size if needed
var array_size = array_length_1d(inventorySlotIcon);

if maxInvenSlots &gt; array_size
{
    //- reinitialize the array
    inventorySlotIcon[maxInvenSlots-1] = 0;
    inventorySlotAmt[maxInvenSlots-1] = 0;
    inventorySlotType[maxInvenSlots-1] = 0;
    inventorySlotTags[maxInvenSlots-1] = noone; //Each slot has '2' tag slots.
    
    for (i=array_size;i&lt;maxInvenSlots;i++)
    {
        inventorySlotIcon[i] = 0; //Nothing
        inventorySlotAmt[i] = 0; //No items
        inventorySlotType[i] = 0; //Default item. '1' for equippable tool.
        inventorySlotTags[i] = noone; //No tags
    }
}
else if maxInvenSlots &lt; array_size
{
    //If we lose slots, reallocate the affected items
    for(z=array_size-(array_size-maxInvenSlots);z&lt;array_size;z++)
    {
        if hudControl.inventorySlotIcon[z] != ITEMID.nil
        {
            //Remove the item and re-add it to the inventory.
            var _item = hudControl.inventorySlotIcon[z];
            var _amt = hudControl.inventorySlotAmt[z]; 
            var _type = hudControl.inventorySlotType[z]; 
            var _tags = hudControl.inventorySlotTags[z];

            //Unequip a removed accessory
            if _type == ITEMTYPE.accessory
            {
                for(g=0;g&lt;ds_list_size(accessories_equipped);g++)
                {
                    if _item == accessories_equipped[| g]
                    {
                        scr_applyAccessory(_item);
                    }
                }
            }
            
            //Clear the slot
            scr_clearSlot(z);
            
            //Reallocate the item
            if scr_invenAddItem(_item,_amt,_type,_tags) == -1
            {
                scr_dropItem(_item,_amt,_type,obj_player.x,obj_player.y,_tags);
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="57">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>pickupTimerMax = 30;
pickupTimer = 28;
pickupTimerRate = 2;

var dx = device_mouse_x_to_gui(0);
var dy = device_mouse_y_to_gui(0);

//Hotbar+inventory coordinates
if !point_in_rectangle(dx,dy,0,50-45,invenX,200) &amp;&amp; showCraftingMenu == false
{
    if cursorHoldItem == true
    { scr_invenRemoveItem(cursorItem,cursorAmt,cursorType,true,cursorSlot,cursorTags); }
    
    cursorHoldItem = false;
    cursorItem = noone;
    cursorAmt = noone;
    cursorSlot = noone;
    cursorType = noone;
    cursorTags = noone;
}
else 
{ 
    var _posX = viewWidth/2-120;
    var _posY = viewHeight/2-105;
    var size = 16;
    var xOff = 70;
    var yOff = 100;
    var x1 = (_posX)-size+xOff;
    var y1 = (_posY)-size+yOff;
    var x2 = (_posX)+size+xOff;
    var y2 = (_posY)+size+yOff;
    
    if (showCraftingMenu == true &amp;&amp; craftingMenu == "menu_mod")
    {
        //Clear mod slots
        //- Tag Slot
        if point_in_rectangle(dx,dy,x1,y1,x2,y2)
        {
            selectedTag = noone;
            modCanConfirm = false;
        }
        else if point_in_rectangle(dx,dy,x1+50,y1,x2+50,y2)
        {
            //-Equipment Slot
            selectedEquipment = noone;
            selectedType = noone;
            equipmentTags = noone;
            equipmentIcon = 0;
            modCanConfirm = false;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Inventory Interaction
if room == rm_menu then exit;

var dx = device_mouse_x_to_gui(0);
var dy = device_mouse_y_to_gui(0);

//---------- MOD BENCH FUNCTIONALITY ---------------

if cursorHoldItem == true &amp;&amp; craftingMenu == "menu_mod"
{
    //The dimensions of the menu's slots, as defined in the draw event.
    var _posX = viewWidth/2-120;
    var _posY = viewHeight/2-105;
    var size = 16;
    var xOff = 70;
    var yOff = 100;
    var x1 = (_posX)-size+xOff;
    var y1 = (_posY)-size+yOff;
    var x2 = (_posX)+size+xOff;
    var y2 = (_posY)+size+yOff;
    
    //-- Tag Slot
    if (cursorItem == ITEMID.item_modTag) &amp;&amp; point_in_rectangle(dx,dy,x1,y1,x2,y2)
    {
        selectedTag = cursorTags;
    }
    
    //-- Equipment Slot
    if cursorType != ITEMTYPE.def &amp;&amp; (cursorType == ITEMTYPE.weapon || cursorType == ITEMTYPE.pickaxe) &amp;&amp; point_in_rectangle(dx,dy,x1+50,y1,x2+50,y2)
    {
        selectedEquipment = cursorItem;
        selectedType = cursorType;
        equipmentIcon = cursorItem;
        equipmentTags = cursorTags;
    }
    
    //-- Activate confirmation
    if selectedEquipment != noone &amp;&amp; selectedTag != noone
    {
        modCanConfirm = true;
    }
}
else if showCraftingMenu == true &amp;&amp; craftingMenu == "menu_mod"
{
    //-- Create new item
    //The dimensions of the menu's slots, as defined in the draw event.
    var _posX = viewWidth/2-120;
    var _posY = viewHeight/2-105;
    var size = 16;
    var xOff = 70;
    var yOff = 100;
    var x1 = (_posX)-size+xOff;
    var y1 = (_posY)-size+yOff;
    var x2 = (_posX)+size+xOff;
    var y2 = (_posY)+size+yOff;
    
    if modCanConfirm == true &amp;&amp; point_in_rectangle(dx,dy,x1+110,y1,x2+110,y2)
    {
        //Create a ds_list to store the new tag inside.
        if !ds_exists(equipmentTags,ds_type_list)
        { equipmentTags = ds_list_create(); }
        
        //If tags are less than max tags, add one!
        var tags_maxxed = false;
        
        if ds_list_size(equipmentTags) &lt; 2
        {   
            //Remove the old weapon, then append the tag to the recycled ds list.
            scr_invenRemoveItem(selectedEquipment,-1,selectedType,false,-1,equipmentTags);
            ds_list_add(equipmentTags,selectedTag[| 0]); 
        
            //Remove the ingredient tag.
            scr_invenRemoveItem(ITEMID.item_modTag,1,ITEMTYPE.def,false,-1,selectedTag);
        }
        else 
        {
            scr_hudMessage("Only 2 tags allowed per item.",global.fnt_Ui,5,0,c_red,0);
            tags_maxxed = true;
        }
        
        
        //Reset if successful
        if tags_maxxed == false &amp;&amp; scr_invenAddItem(selectedEquipment,0,selectedType,equipmentTags) != -1
        {
            scr_hudMessage("Modification success!",global.fnt_Ui,5,equipmentIcon,c_aqua,0);
            
            event_user(0); //Reset the mod bench.
            
            scr_playSound(snd_modificationSuccess,false,10,obj_player.x,obj_player.y,1);
        } 
        else 
        {
            scr_hudMessage("Modification failed.",global.fnt_Ui,5,0,c_red,0);
            event_user(0); //Reset the mod bench.
        }
    }
}
//--------- TRASH SLOT --------------------------
if cursorHoldItem == true
{
    var x1 = 106/(invenXMax/invenX);
    var y1 = 4+(16*ceil(maxInvenSlots/7));

    if point_in_rectangle(dx,dy,x1,y1,x1+10,y1+10)
    {
        trashSlotIcon = cursorItem;
        trashSlotType = cursorType;
        trashSlotAmt = cursorAmt;
        trashSlotTags = cursorTags;
        
        //variable reset
        scr_clearSlot(cursorSlot);
        
        //check for accessory
        if cursorType == ITEMTYPE.accessory
        {
            var _size = ds_list_size(accessories_equipped)
            
            for(n=0;n&lt;_size;n++)
            {
                //dequip the accessory
                if cursorItem == accessories_equipped[| n]
                {
                    scr_applyAccessory(cursorItem);
                }
            }
        }
        
        cursorHoldItem = false;
        cursorItem = noone;
        cursorAmt = noone;
        cursorSlot = noone;
        cursorType = noone;
        cursorTags = noone;
    }
}



//--------- INVENTORY INTERACTIONS -------------
for (i=0;i&lt;maxInvenSlots;i++)
{
    //inventory slots
    var column = 7;
    var c = floor(i/column);
    
    var x1 = (10+(i*16)-(c*16*column))*(invenX/invenXMax);
    var x2 = (20+(i*16)-(c*16*column))*(invenX/invenXMax);
    var y1 = -45+(16*c);
    var y2 = -35+(16*c);
    
    //Hotbar slots
    var x3 = (10+(i*16));
    var x4 = (20+(i*16));
    var y3 = -45;
    var y4 = -35;

    if cursorHoldItem == true
    {
        
        
        //---------- SET AN ITEM IN A SLOT -----------------------------
        
        if (point_in_rectangle(dx,dy,x1,50+y1,x2,50+y2) || point_in_rectangle(dx,dy,x3,50+y3,x4,50+y4))
        {
        
        //-----------------------------Copy current item and place in old slot if need be.----------------------------
            if i != cursorSlot
            {
                //Trash slot interaction
                if cursorSlot == "trashSlot"
                {
                    //Place item in new slot
                    cursorHoldItem = false;
                    inventorySlotIcon[i] = cursorItem;
                    inventorySlotType[i] = cursorType;
                    inventorySlotAmt[i] = cursorAmt;
                    inventorySlotTags[i] = cursorTags;
                    
                    selectedSlot = noone;
                    pickupTimer = 0;
                    pickupTimerMax = 60;
                    pickupTimerRate = 4;
                    
                    scr_clearSlot("trashSlot");
                    
                    exit;
                }
            
            //- Replace slots with cursor item.
                //-- Case: The new slot is the same item &amp; can be stacked.
                if inventorySlotIcon[i] == cursorItem &amp;&amp; inventorySlotAmt[i] &gt; 0 &amp;&amp; inventorySlotTags[i] == cursorTags //0 AMT means an item cannot be stacked, otherwise it would be 1.
                {  
                    //-Update the slot previously picked up.
                        //-- Case: the old slot will have no AMT left.
                    if inventorySlotAmt[cursorSlot]-cursorAmt == 0
                    {
                        scr_clearSlot(cursorSlot);
                    } 
                    else //Case: the old slot will have left-over items.
                    { inventorySlotAmt[cursorSlot] = inventorySlotAmt[cursorSlot]-cursorAmt; }
                   
                    //Update amount in cursor 
                    cursorAmt += inventorySlotAmt[i];
                    
                } 
                else if inventorySlotIcon[i] != 0
                {
                    //Remove items to prevent deletion
                    if cursorAmt != inventorySlotAmt[cursorSlot]
                    {
                        scr_invenRemoveItem(inventorySlotIcon[cursorSlot],
                                            inventorySlotAmt[cursorSlot]-cursorAmt,
                                            inventorySlotType[cursorSlot],
                                            true,cursorSlot,inventorySlotTags[cursorSlot]);
                    }
                
                    //Copy current slot and update the cursorSlot.
                    inventorySlotIcon[cursorSlot] = inventorySlotIcon[i];
                    inventorySlotAmt[cursorSlot] = inventorySlotAmt[i];
                    inventorySlotType[cursorSlot] = inventorySlotType[i];
                    inventorySlotTags[cursorSlot] = inventorySlotTags[i];
                }
                else
                {
                    if inventorySlotAmt[cursorSlot]-cursorAmt == 0
                    {
                        inventorySlotIcon[cursorSlot] = 0;
                        inventorySlotType[cursorSlot] = 0;
                        inventorySlotAmt[cursorSlot] = 0;
                        inventorySlotTags[cursorSlot] = noone;
                    } 
                    else
                    { inventorySlotAmt[cursorSlot] = inventorySlotAmt[cursorSlot]-cursorAmt; }
                }
    
                
                //Place item in new slot
                cursorHoldItem = false;
                inventorySlotIcon[i] = cursorItem;
                inventorySlotType[i] = cursorType;
                inventorySlotAmt[i] = cursorAmt;
                inventorySlotTags[i] = cursorTags;
                
                selectedSlot = noone;
                pickupTimer = 0;
                pickupTimerMax = 60;
                pickupTimerRate = 4;
                
                exit;
            }
        } else if i == cursorSlot &amp;&amp; (showCraftingMenu == false &amp;&amp; craftingMenu != "menu_mod") &amp;&amp; !point_in_rectangle(dx,dy,0,50-45,invenX,200) { scr_invenRemoveItem(cursorItem,cursorAmt,cursorType,true,cursorSlot,cursorTags); selectedSlot = noone; break; }
    }
    
    
    
    //----------------Click to select a slot-------------------
    if (point_in_rectangle(dx,dy,x1,50+y1,x2,50+y2) || point_in_rectangle(dx,dy,x3,50+y3,x4,50+y4))
     &amp;&amp; obj_player.toolReady == true
    {
        scr_slotEquip(i);
        break;
    }
}

//Ensure variable reset
cursorHoldItem = false;
cursorItem = noone;
cursorAmt = noone;
cursorSlot = noone;
cursorType = noone;
cursorTags = noone;


///Crafting timer reset
craftTimer = 0;
craftTimerMax = 40;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Settings interactions
if settingsMenu = true
{
    ///Settings menu interaction
    var xx = display_get_gui_width()/2;
    var yy = display_get_gui_height()/2;
    var mx = device_mouse_x_to_gui(0);
    var my = device_mouse_y_to_gui(0);
    var hbox = 4;
    
    //Show Pop Messages
    
    //- settings
    //-- In this case, xx-40 and yy-40 are constants denoting the center of the selectionBool sprite.
    if point_in_rectangle(mx,my,xx-40-hbox,yy-40-hbox,xx-40+hbox,yy-40+hbox)
    { showPopMessage = !showPopMessage; }
    
    //- Debug mode
    if point_in_rectangle(mx,my,xx-40-hbox,yy-30-hbox,xx-40+hbox,yy-30+hbox)
    { dev = !dev; show_debug_overlay(dev); }
    
    //- toggle background
    if point_in_rectangle(mx,my,xx-40-hbox,yy-20-hbox,xx-40+hbox,yy-20+hbox)
    { 
        showBackground = !showBackground;
        background_visible[2] = showBackground;
        background_visible[3] = showBackground;
        background_visible[4] = showBackground;
        background_visible[5] = showBackground;
    }
    
    
    //- Exit button
    if point_in_rectangle(mx,my,xx-20,yy+40,xx+20,yy+50)
    {
        if room == rm_lobby then scr_roomTransition("WARP","Come back soon!",global.fnt_menu,c_white,45/60,rm_menu);
        else if interm == true
        {
            //Warp out of the FLATLANDS
            if instance_exists(ENEMY)
            {
                for(z=0;z&lt;instance_number(ENEMY)-1;z++)
                {
                    var _grem = instance_find(ENEMY,z);
                    
                    if _grem.y &lt; stoneLayer-48 &amp;&amp; _grem.x &gt; RAIDBOUND_Lower &amp;&amp; _grem.x &lt; RAIDBOUND_Upper
                    {
                        scr_hudMessage("The Flatlands must be clear of Gremlins before warping.",global.fnt_Ui,4,0,c_yellow,0);
                        break;
                    } else scr_roomTransition("WARP","Warping to: The Place Betwixt Time...",global.fnt_menu,c_white,45/60,rm_lobby);
                }
            } else scr_roomTransition("WARP","Warping to: The Place Betwixt Time...",global.fnt_menu,c_white,45/60,rm_lobby);
        }
        
        //Save the game
        with gameControl event_user(0);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="51">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Slot interaction - single item
var dx = device_mouse_x_to_gui(0);
var dy = device_mouse_y_to_gui(0);

var hotbarOffset = -45;

//Hotbar and inventory interaction

if invOpen == true
{
    if point_in_rectangle(dx,dy,0,50+hotbarOffset,invenX,200)
    {
        if cursorHoldItem = false
        {
            for (i=0;i&lt;28;i++)
            {
                //inventory slots
                var column = 7;
                var c = floor(i/column);
                
                var x1 = (10+(i*16)-(c*16*column))*(invenX/invenXMax);
                var x2 = (20+(i*16)-(c*16*column))*(invenX/invenXMax);
                var y1 = -45+(16*c);
                var y2 = -35+(16*c);
                
                //Hotbar slots
                var x3 = (10+(i*16));
                var x4 = (20+(i*16));
                var y3 = -45;
                var y4 = -35;
                
                //Interaction
                if point_in_rectangle(dx,dy,x1,50+y1,x2,50+y2) &amp;&amp; cursorHoldItem == false &amp;&amp; inventorySlotAmt[i] &gt; 0
                || point_in_rectangle(dx,dy,x3,50+y3,x4,50+y4) &amp;&amp; cursorHoldItem == false &amp;&amp; inventorySlotAmt[i] &gt; 0
                {
                    cursorHoldItem = true;
                    cursorItem = inventorySlotIcon[i];
                    cursorAmt = 1;
                    cursorType = inventorySlotType[i];
                    cursorSlot = i;
                    cursorTags = inventorySlotTags[i];
                    
                    break;
                }
            }
        } 
        else
        {
            pickupTimer += 1;
            if pickupTimer &gt;= pickupTimerMax
            {
                if cursorAmt &lt; inventorySlotAmt[cursorSlot]
                { cursorAmt += 1; }
                pickupTimer = 0;
                pickupTimerRate += 2;
                if pickupTimerMax &gt; 0 then pickupTimerMax -= pickupTimerRate;
            }
        }
        
        //Draw slot and cursor embelishments
        if cursorSlot != noone
        {
            selectedSlot = cursorSlot;
            drawCursorItem = true;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Crafting interaction
if room == rm_menu then exit;

if obj_player.dead == false
{
    if craftingMenu != 0 &amp;&amp; showCraftingMenu == true
    {
        var _posX = viewWidth/2-120;
        var _posY = viewHeight/2-105;
        var dx = device_mouse_x_to_gui(0);
        var dy = device_mouse_y_to_gui(0);
        
            //This function represents the crafting menu as a whole.
        if point_in_rectangle(dx,dy,_posX,_posY,250+_posX,200+_posY)
        {   
            for(i=0;i&lt;currentCraftingSlots;i++)
            {
                var size = 35; //The size of the distance between slots - the actual size of the slots.
                var column = 7;
                var c = floor(i/column);
                
                var x1 = _posX+10+(i*size)-(c*size*column);
                var x2 = _posX+30+(i*size)-(c*size*column);
                var y1 = _posY+5+(size*c);
                var y2 = _posY+25+(size*c);
                
                //Get Crafting ID of slot
                if point_in_rectangle(dx,dy,x1,y1,x2,y2)
                { 
                    craftIndex = i; 
                    craftSelect = i;
                    
                    if craftTimer == 0 
                    { scr_craftItem(scr_getCraftingIndex(craftingMenu,craftIndex)); }
                    
                    break; 
                } else craftIndex = -1;
            }
            
            craftTimer += 1;
            
            if craftTimer &gt;= craftTimerMax
            {
                craftTimer = 1;
                
                if craftTimerMax &gt; 5 then craftTimerMax -= craftTimerRate;
                if craftIndex != -1// &amp;&amp; craftTimer &gt; craftTimerMax 
                { 
                    scr_craftItem(scr_getCraftingIndex(craftingMenu,craftIndex)); 
                    craftBuffer = craftIndex;
                } 
            }
            
        } else if craftingMenu != "menu_mod" { craftIndex = -1; craftSelect = -1; showCraftingMenu = false; }
    } else { craftIndex = -1; craftSelect = -1; }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Slot interaction
var dx = device_mouse_x_to_gui(0);
var dy = device_mouse_y_to_gui(0);

var hotbarOffset = -45;

//Hotbar and inventory interaction

if invOpen == true
{
    if point_in_rectangle(dx,dy,0,50+hotbarOffset,invenX,200)
    {
        if cursorHoldItem = false &amp;&amp; mouse_check_button_pressed(mb_left) &amp;&amp; obj_player.toolReady == true
        {
            //---- TRASH SLOT-----
            var x1 = 106/(invenXMax/invenX);
            var y1 = 4+(16*ceil(maxInvenSlots/7));

            if point_in_rectangle(dx,dy,x1,y1,x1+10,y1+10)
            {
                cursorHoldItem = true;
                cursorItem = trashSlotIcon;
                cursorType = trashSlotType;
                cursorAmt = trashSlotAmt;
                cursorTags = trashSlotTags;
                cursorSlot = "trashSlot";
            }
            
            //--- INVENTORY SLOTS ---
            for (i=0;i&lt;maxInvenSlots;i++)
            {
                //inventory slots
                var column = 7;
                var c = floor(i/column);
                
                var x1 = (10+(i*16)-(c*16*column))*(invenX/invenXMax);
                var x2 = (20+(i*16)-(c*16*column))*(invenX/invenXMax);
                var y1 = -45+(16*c);
                var y2 = -35+(16*c);
                
                //Hotbar slots
                var x3 = (10+(i*16));
                var x4 = (20+(i*16));
                var y3 = -45;
                var y4 = -35;
                
                //Interaction
                if point_in_rectangle(dx,dy,x1,50+y1,x2,50+y2) &amp;&amp; cursorHoldItem == false || point_in_rectangle(dx,dy,x3,50+y3,x4,50+y4) &amp;&amp; cursorHoldItem == false
                {
                    cursorHoldItem = true;
                    cursorItem = inventorySlotIcon[i];
                    cursorAmt = inventorySlotAmt[i];
                    cursorType = inventorySlotType[i];
                    cursorSlot = i;
                    cursorTags = inventorySlotTags[i];
                    break;
                }
            }
        }
        
        //Draw slot and cursor embelishments
        if cursorSlot != noone
        {
            selectedSlot = cursorSlot;
            drawCursorItem = true;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Place blocks
if room == rm_lobby then exit;

var xx = round(mouse_x/16)*16;
var yy = round(mouse_y/16)*16;

if (lastPlaceX != xx || lastPlaceY != yy) &amp;&amp; selectedSlot != noone
{
    for(i=0;i&lt;maxInvenSlots;i++)
    {
        //inventory slots
        var column = 7;
        var c = floor(i/column);
        
        var x1 = (10+(i*16)-(c*16*column))*(invenX/invenXMax);
        var x2 = (20+(i*16)-(c*16*column))*(invenX/invenXMax);
        var y1 = 5+(16*c);
        var y2 = 15+(16*c);
        
        //Hotbar slots
        var x3 = (10+(i*16));
        var x4 = (20+(i*16));
        var y3 = -15;
        var y4 = -5;
    
        //------------------Place Blocks-------------------------------------
        if i == selectedSlot
        {
            //The whole hotbar section.
            var _x1 = 10;
            var _x2 = 10+(7*16);
        
            if showCraftingMenu == false &amp;&amp; !point_in_rectangle(dx,dy,_x1,50+y3,_x2,50+y4) &amp;&amp; cursorHoldItem == false
            {
                if inventorySlotType[selectedSlot] == 3 &amp;&amp; obj_player.tool == 3
                {
                    var _tile = scr_invenTileIndex(inventorySlotIcon[selectedSlot]);
                    var _amt = inventorySlotAmt[selectedSlot];
                    
                    //Single place
                    if !position_meeting(xx,yy,OBSTA) &amp;&amp; !(object_get_parent(_tile) == PLR_NOCOL &amp;&amp; position_meeting(xx,yy,NOCOL))
                    &amp;&amp; point_distance(obj_player.x,obj_player.y,mouse_x,mouse_y) &lt;= 16*3 //3 tiles worth of distance.
                    &amp;&amp; (isConnected(xx,yy) || isGrounded(xx,yy)) //|| collision_point(xx,yy+16,obj_platform,false,false) )
                    &amp;&amp; !collision_rectangle(xx-8,yy-8,xx+8,yy+8,obj_player,false,true) 
                    &amp;&amp; !collision_rectangle(xx-8,yy-8,xx+8,yy+8,ENEMY,false,true)
                    &amp;&amp; !position_meeting(xx,yy+2,obj_pie)
                    {
                        if _amt &gt; 0
                        {
                            instance_create(xx,yy,_tile);
                            scr_tileUpdate(xx,yy);
                            scr_invenRemoveItem(0,1,3,false,selectedSlot,noone);
                            if _amt == 0 then selectedSlot = noone;
                            lastPlaceX = xx;
                            lastPlaceY = yy;
                            break;
                        }
                    }
                }
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Initialize Mod Bench

selectedEquipment = noone;
selectedType = noone;
equipmentIcon = 0;
equipmentTags = noone;
selectedTag = noone;
modCanConfirm = false;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room == rm_menu || hudVisible == false then exit;

///Draw Ui
var dispWidth = viewWidth;
var dispHeight = viewHeight;

var mx = device_mouse_x_to_gui(0);
var my = device_mouse_y_to_gui(0);

if dev == true then draw_text(10,20,"FPS: "+string(fps)+"FPS_REAL: "+string(fps_real));

//Draw Inventory -----------------------------------------
//#region
if invenX &gt; 5
{
    //Inventory background
    //draw_set_alpha(0.9);
    //draw_nineSliceBox(spr_ui_9slice,-10,20,invenX,200,0);
    
    // -- Inventory slots layer 1 --
    for (i=0;i&lt;maxInvenSlots;i++)
    {
        var hotbarCount = 7;
        var column = 7;
        var c = floor(i/column);
        
        if i &lt; hotbarCount
        {
            var x1 = (10+(i*16));
            var x2 = (20+(i*16));
            var y1 = -45;
            var y2 = -35;
        } else
        {
            var x1 = (10+(i*16)-(c*16*column))*(invenX/invenXMax);
            var x2 = (20+(i*16)-(c*16*column))*(invenX/invenXMax);
            var y1 = -45+(16*c);
            var y2 = -35+(16*c);
        }
                
        //Draw slots
        draw_set_alpha(1);
        draw_sprite_ext(spr_ui_invenSlot,0,x1,50+y1,0.6,0.6,0,c_white,1);
        
        //Draw selection
        if selectedSlot != noone &amp;&amp; i == selectedSlot
        {
            draw_sprite_ext(spr_selectedSlot,image_speed,x1,50+y1,0.6,0.6,0,c_white,1);
        }
        
        //Draw item icon
        var _center = 6; //Center the sprite onto the slot
        draw_sprite_ext(spr_itemDrops,inventorySlotIcon[i],x1+_center,50+y1+_center,0.5,0.5,0,c_white,1);
        
        
        //-- inventory slots layer two --
        
        draw_set_font(global.fnt_Ui);
        draw_set_color(c_white);
        
        //Draw item amount
        if inventorySlotAmt[i] &gt; 0 then draw_text_transformed(x2-8,y2+46.5,string(inventorySlotAmt[i]),0.75,0.75,0);
    }
    
    //Draw tooltip
    if selectedSlot != noone &amp;&amp; selectedSlot != "trashSlot"
    {
        scr_drawToolTip(inventorySlotIcon[selectedSlot]);
        var _text = text[0]+"##"+text[1]+"##"+text[2];
        draw_text_transformed(6,2+(16*ceil(maxInvenSlots/7)),_text,0.8,0.8,0);
        /*draw_text_transformed(6,2+(16*floor(maxInvenSlots/7)),text[0],1.25,1.25,0);
        draw_text_transformed(6,21+(16*floor(maxInvenSlots/7)),text[1],1,1,0);
        draw_text_transformed(6,51+(16*floor(maxInvenSlots/7)),text[2],0.8,0.8,0);*/
    }
    
    //-Draw equipped accessories
    if ds_exists(accessories_equipped,ds_type_list)
    {
        var list_size = ds_list_size(accessories_equipped);
        
        if list_size &gt; 0
        {
            for(m=0;m&lt;list_size;m++)
            {
                var accessory = accessories_equipped[| m];
                draw_sprite_ext(spr_itemDrops,accessory,viewWidth-10,50+14*m,0.75,0.75,0,c_white,1);
            }
        }
    }
    
    //- Draw Trash Slot
    var _center = 6; //Center the sprite onto the slot
    var x1 = 106/(invenXMax/invenX);
    var y1 = 4+(16*ceil(maxInvenSlots/7));
    //- slot
    draw_sprite_ext(spr_ui_trashSlot,0,x1,y1,0.6,0.6,0,c_white,1);
    //- item
    draw_sprite_ext(spr_itemDrops,trashSlotIcon,x1+_center,y1+_center,0.5,0.5,0,c_white,1);
    //- amt
    if trashSlotAmt &gt; 0 then draw_text_transformed(x1-8,y1+46.5,string(trashSlotAmt),0.75,0.75,0);
    
}

//----------------Draw Hotbar-----------------------
if invenX &lt;= 5
{

    ///--Layer One--
    for (i=0;i&lt;7;i++)
    {
        var scale = 0.5;
        if selectedSlot == i then scale = 0.65;
        
    
        var x1 = (10+(i*16));
        var x2 = (20+(i*16));
        var y1 = -45;
        var y2 = -35;
        
        //Draw hotbar slots
        draw_sprite_ext(spr_ui_invenSlot,0,x1,50+y1,0.6,0.6,0,c_white,1);
        draw_set_alpha(1);
        
        //Draw hotbar selection
        if selectedSlot != noone &amp;&amp; i == selectedSlot
        { draw_sprite_ext(spr_selectedSlot,image_index,x1,50+y1,0.6,0.6,0,c_white,1); }
        
        //Draw hotbar item icon
        var _center = 6;
        draw_sprite_ext(spr_itemDrops,inventorySlotIcon[i],x1+_center,50+y1+_center,scale,scale,0,c_white,1);
        
        //Draw hotbar item amount (numbers)
        draw_set_font(global.fnt_Ui);
        draw_set_color(c_white);
        if inventorySlotAmt[i] &gt; 0 then draw_text_transformed(x2-8,y2+46.5,string(inventorySlotAmt[i]),0.75,0.75,0);
    }
}
//#endregion

//-----------------Crafting Menu---------------------------------------
//#region

if showCraftingMenu == true
{
    //- draw background
    var _posX = viewWidth/2-120;
    var _posY = viewHeight/2-105;
    
    draw_set_alpha(0.75);
    draw_nineSliceBox(spr_ui_9slice, _posX,_posY,250+_posX,200+_posY,0);
    draw_set_alpha(1);
    
    //draw crafting buttons
    if ( craftingSpriteSet != noone &amp;&amp; craftingMenu != "menu_mod" )
    {
        for(i=0;i&lt;currentCraftingSlots;i++)
        {
            var size = 35; //The size of the distance between slots - the actual size of the slots.
            var column = 7;
            var c = floor(i/column);
            
            var x1 = _posX+10+(i*size)-(c*size*column);
            var x2 = _posX+30+(i*size)-(c*size*column);
            var y1 = _posY+5+(size*c);
            var y2 = _posY+25+(size*c);
            
            //Draw Slots
            draw_sprite(spr_ui_invenSlot,0,x1,y1);
            
            //Draw items
            var _center = 10;
            draw_sprite(craftingSpriteSet,i,x1+_center,y1+_center);
            
            //Draw crafting tooltip
            if craftSelect != -1
            {
                draw_set_color(c_white);
                scr_craftingToolTip(craftingMenu,craftSelect);
                draw_text_transformed(120,134,text[0],1.25,1.25,0);
                draw_text_transformed(121,155,text[1],1,1,0);
                draw_text_transformed(121,175,"Items Needed: "+text[2],1,1,0);
            }
        }
    } 
    else if craftingMenu == "menu_mod"
    {
        //-------Mod menu-----
        var size = 16;
        var xOff = 70;
        var yOff = 100;
        var x1 = (_posX)-size+xOff;
        var y1 = (_posY)-size+yOff;
        var x2 = (_posX)+size+xOff;
        var y2 = (_posY)+size+yOff;
        
        draw_set_font(global.fnt_Ui);
        
        //Tag and Equipment Slots respectively
        draw_nineSliceBox(spr_ui_9slice_small,x1,y1,x2,y2,0);
        draw_nineSliceBox(spr_ui_9slice_small,x1+50,y1,x2+50,y2,0);
        
        //Draw icons
        if selectedTag != noone 
        { 
            draw_sprite(spr_itemDrops,ITEMID.item_modTag,(x1+x2)/2,(y1+y2)/2);
            if ds_exists(selectedTag,ds_type_list)
            { draw_text(((x1+x2)/2)-13,((y1+y2)/2)+25,ds_list_find_value(selectedTag,0)); }
        }
        
        if selectedEquipment != noone 
        { 
            draw_sprite(spr_itemDrops,equipmentIcon,(x1+x2+100)/2,(y1+y2)/2);
        } //MN: 50+50 = 100; 50 is MN for equip slot placement.
        
        //Draw mod complete
        draw_nineSliceBox(spr_ui_modConfirm,x1+110,y1,x2+110,y2,modCanConfirm);
        
        if modCanConfirm == true
        {
            draw_sprite(spr_itemDrops,equipmentIcon,(x1+x2+220)/2,(y1+y2)/2);
        }
    }
}

//#endregion
    
//-----Draw cursor item
//#region
if cursorHoldItem == true &amp;&amp; drawCursorItem == true
{
    //-Draw item
    draw_sprite_ext(spr_itemDrops,cursorItem,mx,my,0.75,0.75,0,c_white,1);
    
    //-Draw item amount
    if cursorAmt &gt; 0 
    {
        draw_text(mx+3,my+4,string(cursorAmt));
    }
    
    //-- Draw item tags
    if cursorTags != undefined
    {
        if ds_exists(cursorTags,ds_type_list)
        { 
            for(i=0;i&lt;ds_list_size(cursorTags);i++)
            {
                draw_text(mx+4,my+10*i,ds_list_find_value(cursorTags,i));
            }
        }
    }
}
//#endregion

//-------------------- Healthbars ---------------------------
//#region
var playerHp = obj_player.hp;

if playerHp &gt; 0
{ draw_nineSliceBox(spr_ui_healthBar,viewWidth-110,10,viewWidth-110+((playerHp)),13,0); }
draw_text(viewWidth-95,10,"HP: "+string(playerHp)+"\"+string(obj_player.maxHp));

//- Pie health bar
if instance_exists(obj_pie)
{
    var pieHp = obj_pie.hp;

    if pieHp &gt; 0
    { draw_nineSliceBox(spr_ui_pieHealth,viewWidth-110,20,viewWidth-110+((pieHp)),23,0); }
    draw_text(viewWidth-95,20,"HP: "+string(pieHp)+"\"+string(obj_pie.maxHp));
}

//- Boss health bar
if worldControl.raidBoss == true
{
    //Boss ID
    var boss = worldControl.raidBossID;
    var bossName = "Null";
    
    //Return the boss's name.
    switch boss.object_index
    {
        //All possible boss objects.
        case obj_bombKing: { bossName = "The Bomb King" } break;
        case obj_sphereKing: {bossName = "The Sphere King"} break;
        case obj_nilmerg: {bossName = "Nilmerg, the Grem-Bee"} break;
        case obj_shadowGremlin: {bossName = "Shadow Gremlin Champion"} break;
    }
    
    if boss != noone
    {
        var bossHp = boss.hp;
        var bossMaxHp = boss.maxHp
        draw_text(18,dispHeight-30,bossName);
        draw_nineSliceBox(spr_ui_bossHealthBar,16,dispHeight-16,dispWidth-16,dispHeight-8,0);
        draw_nineSliceBox(spr_ui_bossHealth,16,dispHeight-16,(dispWidth-16)*(bossHp/bossMaxHp),dispHeight-8,0);
    }
}

// - Energy
if instance_exists(worldControl)
{ draw_text(viewWidth-80,30,string(energy)); }

//#endregion

//-------------------Settings Menu-----------------------------
//#region
if settingsMenu == true
{
    var xx = display_get_gui_width()/2;
    var yy = display_get_gui_height()/2;

    //Draw background
    draw_nineSliceBox(spr_ui_9slice,(xx)-50,(yy)-65,(xx)+50,(yy)+65,0);
    
    //PopMessage Setting
    draw_sprite(spr_ui_selectedBool,showPopMessage,xx-40,yy-40);
    draw_text(xx-32,yy-43,"Damage Numbers");
    
    //Debug setting
    draw_sprite(spr_ui_selectedBool,dev,xx-40,yy-30);
    draw_text(xx-32,yy-33,"Debug Mode");
    
    //toggle background setting
    draw_sprite(spr_ui_selectedBool,showBackground,xx-40,yy-20);
    draw_text(xx-32,yy-23,"Toggle Background");
    
    //Draw save and exit button
    draw_nineSliceBox(spr_ui_button,xx-20,yy+40,xx+20,yy+50,0);
    draw_text(xx-9,yy+45,"Exit");
    
}

//------------------Quests/Task List--------------------------
if room == rm_tutorial
{
    if showTaskList == true
    {
        var xx = display_get_gui_width();
        var yy = 0;
        
        //Draw text
        var str = scr_getTaskText(currentTask);
        var str_length = string_length(str)*2.25;
        if (str_length &gt; viewWidth/2) then str_length = viewWidth/2;
        draw_text_transformed(x+viewWidth/2-str_length,y+30,str,1.25,1.25,0);
    }
}
//#endregion

//-------------------Wave Progress Meter----------------------
//#region
if interm == false
{
    draw_text(10,dispHeight-13,"Raid Progress: ");
    draw_sprite_stretched(spr_nullLight,0,0,dispHeight-4,dispWidth,dispHeight-2);
    draw_sprite_stretched(spr_ui_waveProgress,0,0,dispHeight-4,(raidProgress/maxRaidProgress)*dispWidth,dispHeight-2);
}
//#endregion
//-----------------Upgrade Menu-----------------------------
//#region
if room = rm_lobby
{
    if upgradeMenu_visible == true
    {
        print("HELPME!");
        var _posX = viewWidth/2-120;
        var _posY = viewHeight/2-105;
    
        draw_set_alpha(0.75);
        draw_nineSliceBox(spr_ui_9slice, _posX,_posY,250+_posX,200+_posY,0);
        draw_set_alpha(1);
        
        //- INIT BUTTONS
        var h_size = 12;
        var v_size = 6;
        
        //- Regeneration Upgrade button
        var xx = 15;
        var yy = 12;
        
        draw_nineSliceBox(spr_ui_button,_posX-h_size+xx,_posY-v_size+yy,_posX+h_size+xx,_posY+v_size+yy,0);
        draw_text(_posX-h_size/2+xx,_posY-v_size/2+yy,"Regeneration");
        
        //- Tile base HP Upgrade button
        var xx = 50;
        var yy = 12;
        
        draw_nineSliceBox(spr_ui_button,_posX-h_size+xx,_posY-v_size+yy,_posX+h_size+xx,_posY+v_size+yy,0);
        draw_text(_posX-h_size/2+xx,_posY-v_size/2+yy,"Tile Strength");
    }
}

draw_set_alpha(1);

//#endregion
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room == rm_zero || room == rm_tutorial
{    
    //Building indicator
    var xx = round(mouse_x/16)*16;
    var yy = round(mouse_y/16)*16;
    
    var mouse_distance_to_player = point_distance(xx,yy,obj_player.x,obj_player.y);
    
    if selectedSlot != noone &amp;&amp; mouse_distance_to_player &lt; 3*16
    {
        if inventorySlotType[selectedSlot] == 3
        {
            var _tile = scr_invenTileIndex(inventorySlotIcon[selectedSlot]);
            
            draw_set_alpha(0.5);
        
            if !position_meeting(xx,yy,OBSTA) &amp;&amp; !(object_get_parent(_tile) == PLR_NOCOL &amp;&amp; position_meeting(xx,yy,NOCOL)) &amp;&amp;
            !collision_rectangle(xx-8,yy-8,xx+8,yy+8,obj_player,false,true) &amp;&amp; 
            !collision_rectangle(xx-8,yy-8,xx+8,yy+8,ENEMY,false,true) &amp;&amp;
            !position_meeting(xx,yy+1,obj_pie) &amp;&amp;
            (isConnected(xx,yy) || isGrounded(xx,yy))
            { draw_set_color(c_green) } else draw_set_color(c_red);
            
            draw_set_blend_mode(bm_add);
            draw_rectangle(xx-8,yy-8,xx+8,yy+8,false);
            draw_sprite(object_get_sprite(_tile),0,xx,yy);
            draw_set_blend_mode(bm_normal);
        }
    }
    
    draw_set_alpha(1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="98">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hudVisible = !hudVisible;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="73">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Toggle Inventory Visibility.
invOpen = !invOpen;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="67">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Toggle crafting menu
showCraftingMenu = !showCraftingMenu;

if instance_exists(gameControl)
{ if currentTask == 1 then currentTask = 2; }

    
//init mod bench
event_user(0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="55">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select slot 7
if room == rm_menu then exit;
if obj_player.toolReady == true
{
selectedSlot = 6;
scr_slotEquip(6);
} else equipQueue = 6;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="54">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select slot 6
if room == rm_menu then exit;
if obj_player.toolReady == true
{
selectedSlot = 5;
scr_slotEquip(5);
} else equipQueue = 5;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select slot 5
if room == rm_menu then exit;
if obj_player.toolReady == true
{
selectedSlot = 4;
scr_slotEquip(4);
} else equipQueue = 4;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="52">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select slot 4
if room == rm_menu then exit;
if obj_player.toolReady == true
{
selectedSlot = 3;
scr_slotEquip(3);
} else equipQueue = 3;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="51">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select slot 3
if room == rm_menu then exit;
if obj_player.toolReady == true
{
selectedSlot = 2;
scr_slotEquip(2);
} else equipQueue = 3;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select slot 2
if room == rm_menu then exit;
if obj_player.toolReady == true
{
selectedSlot = 1;
scr_slotEquip(1);
} else equipQueue = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="49">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select slot 1
if room == rm_menu then exit;
if obj_player.toolReady == true
{
    selectedSlot = 0;
    scr_slotEquip(0);
} else equipQueue = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Clear Ui or Open Settings

//Settings menu
if invOpen == false &amp;&amp; showCraftingMenu == false
{ settingsMenu = !settingsMenu; }

//Close other menus
if invOpen == true then invOpen = false;
if showCraftingMenu == true then showCraftingMenu = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
